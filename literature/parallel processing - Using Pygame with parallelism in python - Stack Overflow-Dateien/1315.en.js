"use strict";(self.webpackChunkstackoverflow=self.webpackChunkstackoverflow||[]).push([[1315],{31315:(e,t,r)=>{function n(e,t){return t?Array.isArray(t)?t.reduce(((e,t)=>t(e)),e):t(e):e}function i(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e){return Object.keys(e||{}).reduce(((t,r)=>Object.assign(Object.assign({},t),{[r]:i(e[r])?a(e[r]):Array.isArray(e[r])?[...e[r]]:e[r]})),{})}function o(e,t,r){e&&(e=a(e)),i(e)||(e={});const n=Array.isArray(t)?t:t.match(/[^.[\]]+/g)||[],o=n[n.length-1];if(!o)return e;let s=e;for(let e=0;e<n.length-1;e++){const t=n[e];if(!s[t]||!i(s[t])&&!Array.isArray(s[t])){const r=n[e+1];isNaN(Number(r))?s[t]={}:s[t]=[]}s=s[t]}return s[o]=r(s[o]),e}function s(e,t,r){const n=r=>String.prototype.split.call(t,r).filter(Boolean).reduce(((e,t)=>null!=e?e[t]:e),e),i=n(/[,[\]]+?/)||n(/[,[\].]+?/);return void 0===i||i===e?r:i}function u(e,t,r){return o(e,t,(()=>r))}function l(e){return"INPUT"===(null==e?void 0:e.nodeName)}function c(e){return"SELECT"===(null==e?void 0:e.nodeName)}function d(e){return"FIELDSET"===(null==e?void 0:e.nodeName)}function f(e){return l(e)||function(e){return"TEXTAREA"===(null==e?void 0:e.nodeName)}(e)||c(e)}function v(e){return e.nodeType===Node.ELEMENT_NODE}function y(e,t){return null!=t?t:f(e)?e.name:""}function p(e){if(f(e))return[e];if(0===e.childElementCount)return[];const t=new Set;for(const r of e.children){if(f(r)&&t.add(r),d(r))for(const e of r.elements)f(e)&&t.add(e);r.childElementCount>0&&p(r).forEach((e=>t.add(e)))}return Array.from(t)}function m(e){for(const t of e.elements)(f(t)||d(t))&&e.hasAttribute("data-felte-keep-on-remove")&&!t.hasAttribute("data-felte-keep-on-remove")&&(t.dataset.felteKeepOnRemove=e.dataset.felteKeepOnRemove)}function b(e){return e.type.match(/^(number|range)$/)?e.value?+e.value:null:e.value}function g(e){var t;let r={},n={};for(const i of e.elements){if(d(i)&&m(i),!f(i)||!i.name)continue;const a=y(i);if(l(i)){if("checkbox"===i.type){if(void 0===s(r,a)){if(1===Array.from(e.querySelectorAll(`[name="${i.name}"]`)).filter((e=>!!f(e)&&a===y(e))).length){r=u(r,a,i.checked),n=u(n,a,!1);continue}r=u(r,a,i.checked?[i.value]:[]),n=u(n,a,!1);continue}Array.isArray(s(r,a))&&i.checked&&(r=o(r,a,(e=>[...e,i.value])));continue}if("radio"===i.type){if(s(r,a))continue;r=u(r,a,i.checked?i.value:void 0),n=u(n,a,!1);continue}if("file"===i.type){r=u(r,a,i.multiple?Array.from(i.files||[]):null===(t=i.files)||void 0===t?void 0:t[0]),n=u(n,a,!1);continue}}else if(c(i)){if(i.multiple){const e=Array.from(i.selectedOptions).map((e=>e.value));r=u(r,a,e)}else r=u(r,a,i.value);n=u(n,a,!1);continue}const v=b(i);r=u(r,a,v),n=u(n,a,!1)}return{defaultData:r,defaultTouched:n}}function h(e,t){var r;if(!f(e))return;const n=t;if(l(e)){if("checkbox"===e.type){const t=n;return void 0===t||"boolean"==typeof t?void(e.checked=!!t):void(Array.isArray(t)&&(t.includes(e.value)?e.checked=!0:e.checked=!1))}if("radio"===e.type){const t=n;return void(e.value===t?e.checked=!0:e.checked=!1)}if("file"===e.type){if(t instanceof FileList)e.files=t;else if(t instanceof File&&"undefined"!=typeof DataTransfer){const r=new DataTransfer;r.items.add(t),e.files=r.files}else if("undefined"!=typeof DataTransfer&&Array.isArray(t)&&t.some((e=>e instanceof File))){const r=new DataTransfer;for(const e of t)e instanceof File&&r.items.add(e);e.files=r.files}else(!t||Array.isArray(t)&&!t.length)&&(e.files=null,e.value="");return}}else if(c(e)){if(e.multiple){if(Array.isArray(n)){e.value=String(null!==(r=n[0])&&void 0!==r?r:"");const t=n.map((e=>String(e)));for(const r of e.options)t.includes(r.value)?r.selected=!0:r.selected=!1}}else{e.value=String(null!=n?n:"");for(const t of e.options)t.value===String(n)?t.selected=!0:t.selected=!1}return}e.value=String(null!=n?n:"")}function A(e,t){for(const r of e.elements){if(d(r)&&m(r),!f(r)||!r.name)continue;h(r,s(t,y(r)))}}function w(e,t){return Object.keys(e||{}).reduce(((r,n)=>Object.assign(Object.assign({},r),{[n]:t(e[n])})),{})}function E(e){return function(t){if(i(t)){return function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(S(t,e),["key"])}return e}}function S(e,t){return w(e,(e=>i(e)?S(e,t):Array.isArray(e)?e.map(E(t)):t))}function O(e=8){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r="";for(let n=0;n<e;n++)r+=t.charAt(Math.floor(62*Math.random()));return r}function j(e,t){if(!e||Object(e)!==e)return;void 0!==e&&(e=a(e));const r=Array.isArray(t)?t:t.toString().match(/[^.[\]]+/g)||[],n=1===r.length?e:s(e,r.slice(0,-1).join("."));return Array.isArray(n)?n.splice(Number(r[r.length-1]),1):null==n||delete n[r[r.length-1]],e}function k(...e){const t=e.pop(),r=e.shift();if("string"==typeof r)return r;const n=a(r);if(0===e.length)return n;for(const r of e){if(!r)continue;if("string"==typeof r)return r;let e=t(n,r);if(void 0!==e)return e;const o=Array.from(new Set(Object.keys(n).concat(Object.keys(r))));for(const s of o)if(e=t(n[s],r[s]),void 0!==e)n[s]=e;else if(i(r[s])&&i(n[s]))n[s]=k(n[s],r[s],t);else if(Array.isArray(r[s]))n[s]=r[s].map(((e,r)=>{if(!i(e))return e;return k(Array.isArray(n[s])?n[s][r]:n[s],e,t)}));else if(i(r[s])){const e=S(a(r[s]),void 0);n[s]=k(e,r[s],t)}else void 0!==r[s]&&(n[s]=r[s])}return n}function T(...e){return k(...e,(()=>{}))}function V(e,t){return function(e,t){return Object.keys(e).some((r=>t(e[r])))}(e,(e=>i(e)?V(e,t):Array.isArray(e)?0===e.length||e.every((e=>"string"==typeof e))?t(e):e.some((e=>i(e)?V(e,t):t(e))):t(e)))}function x(e){let t;return function(e,...t){const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}(e,(e=>t=e))(),t}function F(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function D(e,t){return w(e,(e=>i(e)?D(e,t):Array.isArray(e)?0===e.length||e.every((e=>"string"==typeof e))?t:e.map((e=>F(D(e,t),["key"]))):t))}function P(e){return e?w(e,(e=>i(e)?P(e):Array.isArray(e)?0===e.length||e.every((e=>"string"==typeof e))?e:e.map((e=>{if(!i(e))return e;const t=P(e);return t.key||(t.key=O()),t})):e)):{}}function N(e){return e?w(e,(e=>i(e)?N(e):Array.isArray(e)?0===e.length||e.every((e=>"string"==typeof e))?e:e.map((e=>{if(!i(e))return e;return F(N(e),["key"])})):e)):{}}r.d(t,{N:()=>Y});class L extends Error{constructor(e,t){super(e),this.name="FelteSubmitError",this.response=t}}function I(e,t,r,n){return o(e,t,(e=>void 0===e||Array.isArray(e)?(e||(e=[]),void 0===n?e.push(r):e.splice(n,0,r),e):e))}function C(e){return"function"==typeof e}function _(e){return(t,r)=>{if("string"==typeof t){const n=t;e((e=>{const t=C(r)?r(s(e,n)):r;return u(e,n,t)}))}else e((e=>C(t)?t(e):t))}}function M({stores:e,config:t,validateErrors:r,validateWarnings:n,_getCurrentExtenders:l}){var c;let d,v=P(null!==(c=t.initialValues)&&void 0!==c?c:{});const{data:y,touched:p,errors:m,warnings:b,isDirty:g,isSubmitting:h,interacted:w}=e,E=_(y.update),k=_(p.update),F=_(m.update),C=_(b.update);function M(e){E((t=>{const r=e(t);return d&&A(d,r),r}))}const R=(e,t,r)=>{_(M)(e,t),"string"==typeof e&&r&&k(e,!0)};function U(e,t,r){const n=!!i(t)&&D(t,!1),a=i(n)?S(n,[]):[];t=i(t)?Object.assign(Object.assign({},t),{key:O()}):t,m.update((t=>I(t,e,a,r))),b.update((t=>I(t,e,a,r))),p.update((t=>I(t,e,n,r))),y.update((n=>{const i=I(n,e,t,r);return setTimeout((()=>d&&A(d,i))),i}))}function q(e){m.update(e),b.update(e),p.update(e),y.update((t=>{const r=e(t);return setTimeout((()=>d&&A(d,r))),r}))}function H(e){q((t=>j(t,e)))}function W(e,t,r){q((n=>function(e,t,r,n){return o(e,t,(e=>e&&Array.isArray(e)?([e[r],e[n]]=[e[n],e[r]],e):e))}(n,e,t,r)))}function $(e,t,r){q((n=>function(e,t,r,n){return o(e,t,(e=>e&&Array.isArray(e)?(e.splice(n,0,e.splice(r,1)[0]),e):e))}(n,e,t,r)))}function B(e){const t=s(v,e),r=!!i(t)&&D(t,!1),n=i(r)?S(r,[]):[];y.update((r=>{const n=u(r,e,t);return d&&A(d,n),n})),p.update((t=>u(t,e,r))),m.update((t=>u(t,e,n))),b.update((t=>u(t,e,n)))}const K=_(h.update),X=_(g.update),Z=_(w.update);function z(){R(a(v)),k((e=>S(e,!1))),w.set(null),g.set(!1)}function G(e){return async function(i){var a,o,s,u,c,v,g;const{createErrorEvent:A,createSubmitEvent:O,createSuccessEvent:j}=function(){class e extends CustomEvent{constructor(e){super("feltesuccess",{detail:e})}}class t extends CustomEvent{constructor(e){super("felteerror",{detail:e,cancelable:!0})}setErrors(e){this.preventDefault(),this.errors=e}}class r extends Event{constructor(){super("feltesubmit",{cancelable:!0})}handleSubmit(e){this.onSubmit=e}handleError(e){this.onError=e}handleSuccess(e){this.onSuccess=e}}return{createErrorEvent:e=>new t(e),createSubmitEvent:()=>new r,createSuccessEvent:t=>new e(t)}}(),P=O();null==d||d.dispatchEvent(P);const I=null!==(o=null!==(a=P.onError)&&void 0!==a?a:null==e?void 0:e.onError)&&void 0!==o?o:t.onError,_=null!==(u=null!==(s=P.onSuccess)&&void 0!==s?s:null==e?void 0:e.onSuccess)&&void 0!==u?u:t.onSuccess,M=null!==(g=null!==(v=null!==(c=P.onSubmit)&&void 0!==c?c:null==e?void 0:e.onSubmit)&&void 0!==v?v:t.onSubmit)&&void 0!==g?g:function(e){if(e)return async function(){let t=new FormData(e);const r=new URL(e.action),n="get"===e.method.toLowerCase()?"get":r.searchParams.get("_method")||e.method;let i,a=e.enctype;e.querySelector('input[type="file"]')&&(a="multipart/form-data"),"get"!==n&&"application/x-www-form-urlencoded"!==a||(t=new URLSearchParams(t)),"get"===n?(t.forEach(((e,t)=>{r.searchParams.append(t,e)})),i={method:n,headers:{Accept:"application/json"}}):i={method:n,body:t,headers:Object.assign(Object.assign({},"multipart/form-data"!==a&&{"Content-Type":a}),{Accept:"application/json"})};const o=await window.fetch(r.toString(),i);if(o.ok)return o;throw new L("An error occurred while submitting the form",o)}}(d);if(!M)return;if(null==i||i.preventDefault(),P.defaultPrevented)return;h.set(!0),w.set(null);const q=N(x(y)),K=await r(q,null==e?void 0:e.validate),X=await n(q,null==e?void 0:e.warn);if(X&&b.set(T(S(q,[]),X)),p.set(D(q,!0)),K){p.set(D(K,!0));if(V(K,(e=>Array.isArray(e)?e.length>=1:!!e)))return await new Promise((e=>setTimeout(e))),l().forEach((e=>{var t;return null===(t=e.onSubmitError)||void 0===t?void 0:t.call(e,{data:q,errors:K})})),void h.set(!1)}const Z={event:i,setFields:R,setData:E,setTouched:k,setErrors:F,setWarnings:C,unsetField:H,addField:U,resetField:B,reset:z,setInitialValues:J.setInitialValues,moveField:$,swapFields:W,form:d,controls:d&&Array.from(d.elements).filter(f),config:Object.assign(Object.assign({},t),e)};try{const e=await M(q,Z);null==d||d.dispatchEvent(j(Object.assign({response:e},Z))),await(null==_?void 0:_(e,Z))}catch(e){const t=A(Object.assign({error:e},Z));if(null==d||d.dispatchEvent(t),!I&&!t.defaultPrevented)throw e;if(!I&&!t.errors)return;const r=t.errors||await(null==I?void 0:I(e,Z));r&&(p.set(D(r,!0)),m.set(r),await new Promise((e=>setTimeout(e))),l().forEach((e=>{var t;return null===(t=e.onSubmitError)||void 0===t?void 0:t.call(e,{data:q,errors:x(m)})})))}finally{h.set(!1)}}}const J={setData:E,setFields:R,setTouched:k,setErrors:F,setWarnings:C,setIsSubmitting:K,setIsDirty:X,setInteracted:Z,validate:async function(){const e=x(y);p.set(D(e,!0)),w.set(null);const t=await r(e);return await n(e),t},reset:z,unsetField:H,resetField:B,addField:U,swapFields:W,moveField:$,createSubmitHandler:G,handleSubmit:G(),setInitialValues:e=>{v=P(e)}};return{public:J,private:{_setFormNode(e){d=e},_getInitialValues:()=>v}}}function R(e){let t=e;for(;t&&"FORM"!==t.nodeName;){if(t.hasAttribute("data-felte-ignore"))return!0;t=t.parentElement}return!1}function U(e,t,{onInit:r,onEnd:n}={}){let i;return(...a)=>{i||null==r||r(),i&&clearTimeout(i),i=setTimeout((()=>{e.apply(this,a),i=void 0,null==n||n()}),t)}}function q(e,t){if(!i(e)||!i(t)){if(Array.isArray(t)){if(t.some(i))return;const r=Array.isArray(e)?e:[];return t.map(((e,t)=>{var n;return null!==(n=r[t])&&void 0!==n?n:e}))}return void 0!==e?e:void 0}}function H(...e){return k(...e,q)}function W({helpers:e,stores:t,config:r,extender:n,createSubmitHandler:o,handleSubmit:d,_setFormNode:m,_getInitialValues:h,_setCurrentExtenders:A,_getCurrentExtenders:w}){const{setFields:E,setTouched:S,reset:O,setInitialValues:k}=e,{addValidator:V,addTransformer:F,validate:D}=e,{data:P,errors:N,warnings:L,touched:I,isSubmitting:C,isDirty:_,interacted:M,isValid:q,isValidating:W}=t;return{form:function(t){function $(e){return function(n){return n({form:t,stage:e,controls:Array.from(t.elements).filter(f),data:P,errors:N,warnings:L,touched:I,isValid:q,isValidating:W,isSubmitting:C,isDirty:_,interacted:M,config:r,addValidator:V,addTransformer:F,setFields:E,validate:D,reset:O,createSubmitHandler:o,handleSubmit:d})}}t.requestSubmit||(t.requestSubmit=d),A(n.map($("MOUNT"))),t.noValidate=!!r.validate;const{defaultData:B,defaultTouched:K}=g(t);function X(e){const t=e.target;if(!t||!f(t)||c(t)||R(t))return;if(["checkbox","radio","file"].includes(t.type))return;if(!t.name)return;_.set(!0);const r=b(t);M.set(t.name),P.update((e=>u(e,y(t),r)))}function Z(e){const r=e.target;if(r&&f(r)&&!R(r)&&r.name)if(S(y(r),!0),M.set(r.name),(c(r)||["checkbox","radio","file","hidden"].includes(r.type))&&_.set(!0),"hidden"===r.type&&P.update((e=>u(e,y(r),r.value))),c(r))!function(e){if(e.multiple){const t=Array.from(e.selectedOptions).map((e=>e.value));P.update((r=>u(r,y(e),t)))}else P.update((t=>u(t,y(e),e.value)))}(r);else{if(!l(r))return;"checkbox"===r.type?function(e){const r=y(e),n=Array.from(t.querySelectorAll(`[name="${e.name}"]`)).filter((e=>!!f(e)&&r===y(e)));if(0!==n.length)1===n.length?P.update((t=>u(t,y(e),e.checked))):P.update((t=>u(t,y(e),n.filter(l).filter((e=>e.checked)).map((e=>e.value)))))}(r):"radio"===r.type?function(e){const r=t.querySelectorAll(`[name="${e.name}"]`),n=Array.from(r).find((e=>l(e)&&e.checked));P.update((t=>u(t,y(e),null==n?void 0:n.value)))}(r):"file"===r.type&&function(e){var t;const r=Array.from(null!==(t=e.files)&&void 0!==t?t:[]);P.update((t=>u(t,y(e),e.multiple?r:r[0])))}(r)}}function z(e){const t=e.target;t&&f(t)&&!R(t)&&t.name&&(S(y(t),!0),M.set(t.name))}function G(e){e.preventDefault(),O()}m(t),k(T(a(B),h())),E(h()),I.set(K);const J=U((()=>{w().forEach((e=>{var t;return null===(t=e.destroy)||void 0===t?void 0:t.call(e)})),A(n.map($("UPDATE")));const{defaultData:r,defaultTouched:i}=g(t);P.update((e=>H(e,r))),I.update((e=>H(e,i))),e.setFields(x(P))}),0);let Q=[];const Y=U((()=>{w().forEach((e=>{var t;return null===(t=e.destroy)||void 0===t?void 0:t.call(e)})),A(n.map($("UPDATE"))),function(e){let t=x(P),r=x(I),n=x(N),a=x(L);for(const o of e.reverse()){if(o.hasAttribute("data-felte-keep-on-remove")&&"false"!==o.dataset.felteKeepOnRemove)continue;const e=/.*(\[[0-9]+\]|\.[0-9]+)\.[^.]+$/;let u=y(o);const l=x(I);if(e.test(u)){const e=u.split(".").slice(0,-1).join("."),t=s(l,e);i(t)&&Object.keys(t).length<=1&&(u=e)}t=j(t,u),r=j(r,u),n=j(n,u),a=j(a,u)}P.set(t),I.set(r),N.set(n),L.set(a)}(Q),Q=[]}),0);function ee(e){const t=Array.from(e.addedNodes).some((e=>{if(!v(e))return!1;if(f(e))return!0;return p(e).length>0}));t&&J()}function te(e){for(const t of e.removedNodes){if(!v(t))continue;const e=p(t);0!==e.length&&(Q.push(...e),Y())}}const re=new MutationObserver((function(e){for(const t of e)"childList"===t.type&&(t.addedNodes.length>0&&ee(t),t.removedNodes.length>0&&te(t))}));re.observe(t,{childList:!0,subtree:!0}),t.addEventListener("input",X),t.addEventListener("change",Z),t.addEventListener("focusout",z),t.addEventListener("submit",d),t.addEventListener("reset",G);const ne=N.subscribe((e=>{for(const r of t.elements){if(!f(r)||!r.name)continue;const t=s(e,y(r)),n=Array.isArray(t)?t.join("\n"):"string"==typeof t?t:void 0;n!==r.dataset.felteValidationMessage&&(n?(r.dataset.felteValidationMessage=n,r.setAttribute("aria-invalid","true")):(delete r.dataset.felteValidationMessage,r.removeAttribute("aria-invalid")))}}));return{destroy(){re.disconnect(),t.removeEventListener("input",X),t.removeEventListener("change",Z),t.removeEventListener("focusout",z),t.removeEventListener("submit",d),t.removeEventListener("reset",G),ne(),w().forEach((e=>{var t;return null===(t=e.destroy)||void 0===t?void 0:t.call(e)}))}}}}}function $(e,t){if(!i(e)&&!i(t)){if(null===e||""===e)return t;if(null===t||""===t)return e;if(!t)return e;if(e&&t){if(Array.isArray(e)){if(!Array.isArray(t))return[...e,t];const r=[],n=Math.max(t.length,e.length);for(let a=0;a<n;a++){let n=e[a],o=t[a];i(n)||i(o)?r.push(B([null!=n?n:{},null!=o?o:{}])):(Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]),r.push(...n,...o))}return r.filter(Boolean)}return Array.isArray(t)||(t=[t]),[e,...t].reduce(((e,t)=>e.concat(t)),[]).filter(Boolean)}}}function B(e){return k(...e,$)}function K(e,t){if(i(e))return!t||i(t)&&0===Object.keys(t).length?S(e,null):void 0;if(Array.isArray(e)){if(e.some(i))return;const r=Array.isArray(t)?t:[];return e.map(((e,t)=>{const n=r[t];return Array.isArray(n)&&0===n.length?null:e&&n||null}))}return Array.isArray(t)&&0===t.length?null:Array.isArray(t)?e?t:null:e&&t?[t]:null}function X(e,t){if(i(e))return!t||i(t)&&0===Object.keys(t).length?S(e,null):void 0;if(Array.isArray(e)){if(e.some(i))return;const r=Array.isArray(t)?t:[];return e.map(((e,t)=>{const n=r[t];return Array.isArray(n)&&0===n.length?null:n||null}))}return Array.isArray(t)&&0===t.length?null:Array.isArray(t)?t:t?[t]:null}function Z([e,t]){return k(t,e,K)}function z([e,t]){return k(t,e,X)}function G(e,t){var r,i,o,s,u,l,c,d,f;const v=function(e){return function(t,r,n){const i=Array.isArray(t)?t:[t],a=new Array(i.length),o=e(n),s=o.set,u=o.subscribe;let l;return o.subscribe=function(e){const t=u(e);return()=>{t()}},[o,function(){l=i.map(((e,t)=>e.subscribe((e=>{a[t]=e,s(r(a))}))))},function(){null==l||l.forEach((e=>e()))}]}}(e),y=t.initialValues=t.initialValues?P(n(a(t.initialValues),t.transform)):{},p=D(N(y),!1),m=e(p),b=e(0),[g,h,A]=v([m,b],(([e,t])=>V(e,(e=>!!e))&&t>=1),!1);function w(e){let t;return async function(r,n,i,a=!1){if(!i||!r)return;let o=n&&Object.keys(n).length>0?n:S(r,[]);const s=function(e){const t={aborted:!1,priority:e};return{signal:t,abort(){t.aborted=!0}}}(a);if((null==t?void 0:t.signal.priority)&&!a||(null==t||t.abort(),t=s),t.signal.priority&&!a)return;b.update((e=>e+1));const u=(l=N(r),(c=i)?(Array.isArray(c)?c:[c]).map((e=>e(l))):[]);var l,c;return u.forEach((async t=>{const r=await t;s.signal.aborted||(o=B([o,r]),e.set(o))})),await Promise.all(u),t=void 0,b.update((e=>e-1)),o}}delete g.set,delete g.update;let E=S(p,[]);const O=e(y),j=S(p,[]),k=e(j),T=e(a(j)),[x,F,L]=v([k,T],B,a(j)),I=S(p,[]),C=e(I),_=e(a(I)),[M,R,q]=v([C,_],B,a(I)),[H,W,$]=v([x,m],Z,a(j)),[K,X,G]=v([M,m],z,a(I));let J=!1;const[Q,Y,ee]=v(x,(([e])=>{var r;return J?!V(e,(e=>Array.isArray(e)?e.length>=1:!!e)):(J=!0,!t.validate&&!(null===(r=t.debounced)||void 0===r?void 0:r.validate))}),!t.validate&&!(null===(r=t.debounced)||void 0===r?void 0:r.validate));delete Q.set,delete Q.update;const te=e(!1),re=e(!1),ne=e(null),ie=w(k),ae=w(C),oe=w(T),se=w(_),ue=U(oe,null!==(u=null!==(o=null===(i=t.debounced)||void 0===i?void 0:i.validateTimeout)&&void 0!==o?o:null===(s=t.debounced)||void 0===s?void 0:s.timeout)&&void 0!==u?u:300,{onInit:()=>{b.update((e=>e+1))},onEnd:()=>{b.update((e=>e-1))}}),le=U(se,null!==(f=null!==(c=null===(l=t.debounced)||void 0===l?void 0:l.warnTimeout)&&void 0!==c?c:null===(d=t.debounced)||void 0===d?void 0:d.timeout)&&void 0!==f?f:300);let ce=j,de=I;function fe(){const e=O.subscribe((e=>{var r,n;const i=N(e);ie(i,E,t.validate),ae(i,E,t.warn),ue(i,E,null===(r=t.debounced)||void 0===r?void 0:r.validate),le(i,E,null===(n=t.debounced)||void 0===n?void 0:n.warn)})),r=m.subscribe((e=>{E=S(e,[])})),n=x.subscribe((e=>{ce=e})),i=M.subscribe((e=>{de=e}));return F(),Y(),R(),W(),X(),h(),function(){e(),$(),L(),q(),G(),ee(),A(),r(),n(),i()}}function ve(e){k.set(e(ce)),T.set({})}function ye(e){C.set(e(de)),_.set({})}return H.set=function(e){ve((()=>e))},H.update=ve,K.set=function(e){ye((()=>e))},K.update=ye,{data:O,errors:H,warnings:K,touched:m,isValid:Q,isSubmitting:te,isDirty:re,isValidating:g,interacted:ne,validateErrors:async function(e,r){var n;const i=ie(e,E,null!=r?r:t.validate,!0);if(r)return i;const a=oe(e,E,null===(n=t.debounced)||void 0===n?void 0:n.validate,!0);return B(await Promise.all([i,a]))},validateWarnings:async function(e,r){var n;const i=ae(e,E,null!=r?r:t.warn,!0);if(r)return i;const a=se(e,E,null===(n=t.debounced)||void 0===n?void 0:n.warn,!0);return B(await Promise.all([i,a]))},cleanup:t.preventStoreStart?()=>{}:fe(),start:fe}}var J=r(84950),Q=r(74982);function Y(e){const t=function(e,t){var r,i;function a(t,{debounced:r,level:n}={debounced:!1,level:"error"}){var i;const a="error"===n?"validate":"warn";null!==(i=e.debounced)&&void 0!==i||(e.debounced={});const o=r?e.debounced:e;o[a]?o[a]=[...o[a],t]:o[a]=[t]}function o(t){e.transform?e.transform=[...e.transform,t]:e.transform=[t]}null!==(r=e.extend)&&void 0!==r||(e.extend=[]),null!==(i=e.debounced)&&void 0!==i||(e.debounced={}),e.validate&&!Array.isArray(e.validate)&&(e.validate=[e.validate]),e.debounced.validate&&!Array.isArray(e.debounced.validate)&&(e.debounced.validate=[e.debounced.validate]),e.transform&&!Array.isArray(e.transform)&&(e.transform=[e.transform]),e.warn&&!Array.isArray(e.warn)&&(e.warn=[e.warn]),e.debounced.warn&&!Array.isArray(e.debounced.warn)&&(e.debounced.warn=[e.debounced.warn]);const s=Array.isArray(e.extend)?e.extend:[e.extend];let u=[];const l=()=>u,{isSubmitting:c,isValidating:d,data:f,errors:v,warnings:y,touched:p,isValid:m,isDirty:b,cleanup:g,start:h,validateErrors:A,validateWarnings:w,interacted:E}=G(t.storeFactory,e),S=f.update,O=f.set;f.update=t=>S((r=>P(n(t(r),e.transform)))),f.set=t=>O(P(n(t,e.transform)));const j=M({extender:s,config:e,addValidator:a,addTransformer:o,validateErrors:A,validateWarnings:w,_getCurrentExtenders:l,stores:{data:f,errors:v,warnings:y,touched:p,isValid:m,isValidating:d,isSubmitting:c,isDirty:b,interacted:E}}),{createSubmitHandler:k,handleSubmit:T}=j.public;u=s.map((t=>t({stage:"SETUP",errors:v,warnings:y,touched:p,data:f,isDirty:b,isValid:m,isValidating:d,isSubmitting:c,interacted:E,config:e,addValidator:a,addTransformer:o,setFields:j.public.setFields,reset:j.public.reset,validate:j.public.validate,handleSubmit:T,createSubmitHandler:k})));const V=Object.assign({config:e,stores:{data:f,touched:p,errors:v,warnings:y,isSubmitting:c,isValidating:d,isValid:m,isDirty:b,interacted:E},createSubmitHandler:k,handleSubmit:T,helpers:Object.assign(Object.assign({},j.public),{addTransformer:o,addValidator:a}),extender:s,_getCurrentExtenders:l,_setCurrentExtenders:e=>{u=e}},j.private),{form:x}=W(V);return Object.assign({data:f,errors:v,warnings:y,touched:p,isValid:m,isSubmitting:c,isValidating:d,isDirty:b,interacted:E,form:x,cleanup:g,startStores:h},j.public)}(null!=e?e:{},{storeFactory:J.fZ}),{cleanup:r,startStores:i}=t,a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(t,["cleanup","startStores"]);return(0,Q.ev)(r),a}}}]);